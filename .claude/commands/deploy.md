---
description: デプロイメント実行（ステージング/本番）
---

アプリケーションをデプロイします。

**devops-engineer** エージェントを起動して、以下を実行してください：

## デプロイ先の選択
引数で指定してください：
- `/deploy staging` - ステージング環境
- `/deploy production` - 本番環境（要承認）

## デプロイ手順

### 1. 事前チェック
- すべてのテストがパス
- Gitタグ作成（バージョン管理）
- CHANGELOG更新

### 2. Dockerイメージビルド
- flask-app イメージ
- バージョンタグ付け

### 3. デプロイ実行
- Docker Composeで起動
- データベースマイグレーション実行
- ヘルスチェック

### 4. 動作確認
- APIエンドポイント疎通確認
- 管理GUI アクセス確認
- ログ確認

### 5. ロールバック準備
- 前バージョンのバックアップ保持
- ロールバック手順確認

## 本番デプロイ時の追加チェック
- データベースバックアップ取得
- ダウンタイム通知
- 段階的ロールアウト（可能な場合）

完了後、デプロイ結果を報告してください。
